(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{MZhU:function(C,O,a){C.exports={container:"container___3DGcF",lang:"lang___18BEt",content:"content___24x6E",top:"top___Kmd6o",header:"header___1kD8J",logo:"logo___2Fmyt",title:"title___3pcso",desc:"desc___2QZoR",main:"main___3ipCw",icon:"icon___P3cg6",other:"other___3uIfA",register:"register___3Mz8E",prefixIcon:"prefixIcon___Tvd5H"}},Z1IU:function(C,O,a){"use strict";a.r(O);var oe=a("DYRE"),D=a("zeV3"),e=a("nKUr"),le=a("Znn+"),U=a("ZTPi"),de=a("miYZ"),F=a("tsqr"),Z=a("WmNS"),o=a.n(Z),m=a("k1fw"),h=a("9og8"),M=a("tJVT"),pe=a("fOrg"),$=a("+KLJ"),J=a("cJ7L"),N=a("FY4R"),G=a("3flX"),R=a("Y0UT"),V=a("80zm"),K=a("CZrw"),y=a("q1tI"),W=a("VMEa"),B=a("Qurx"),Y=a("/aGu"),Q=a("tneF"),n=a("9kvl"),X=a("55Ip"),w=a("CwrG"),H=a("74pX");function k(v,p){return S.apply(this,arguments)}function S(){return S=Object(h.a)(o.a.mark(function v(p,u){return o.a.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.abrupt("return",Object(n.e)("/api/login/captcha",Object(m.a)({method:"POST",params:Object(m.a)({},p)},u||{})));case 1:case"end":return g.stop()}},v)})),S.apply(this,arguments)}var q=a("MZhU"),s=a.n(q),T=function(p){var u=p.content;return Object(e.jsx)($.a,{"data-inspector-line":"22","data-inspector-column":"2","data-inspector-relative-path":"src\\pages\\User\\login\\index.tsx",style:{marginBottom:24},message:u,type:"error",showIcon:!0})},_=function(){!n.c||setTimeout(function(){var p=n.c.location.query,u=p,f=u.redirect;n.c.push(f||"/")},10)},ee=function(){var p=Object(y.useState)(!1),u=Object(M.a)(p,2),f=u[0],g=u[1],ae=Object(y.useState)({}),I=Object(M.a)(ae,2),L=I[0],te=I[1],se=Object(y.useState)("account"),A=Object(M.a)(se,2),b=A[0],ne=A[1],P=Object(n.g)("@@initialState"),j=P.initialState,re=P.setInitialState,l=Object(n.f)(),ie=function(){var d=Object(h.a)(o.a.mark(function r(){var i,c;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j==null||(i=j.fetchUserInfo)===null||i===void 0?void 0:i.call(j);case 2:c=t.sent,c&&re(Object(m.a)(Object(m.a)({},j),{},{currentUser:c}));case 4:case"end":return t.stop()}},r)}));return function(){return d.apply(this,arguments)}}(),ce=function(){var d=Object(h.a)(o.a.mark(function r(i){var c;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return g(!0),t.prev=1,t.next=4,Object(H.c)(Object(m.a)(Object(m.a)({},i),{},{type:b}));case 4:if(c=t.sent,c.status!=="ok"){t.next=11;break}return F.default.success("\u767B\u5F55\u6210\u529F\uFF01"),t.next=9,ie();case 9:return _(),t.abrupt("return");case 11:te(c),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(1),F.default.error("\u767B\u5F55\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5\uFF01");case 17:g(!1);case 18:case"end":return t.stop()}},r,null,[[1,14]])}));return function(i){return d.apply(this,arguments)}}(),E=L.status,z=L.type;return Object(e.jsxs)("div",{"data-inspector-line":"81","data-inspector-column":"4","data-inspector-relative-path":"src\\pages\\User\\login\\index.tsx",className:s.a.container,children:[Object(e.jsx)("div",{"data-inspector-line":"82","data-inspector-column":"6","data-inspector-relative-path":"src\\pages\\User\\login\\index.tsx",className:s.a.lang,children:n.b&&Object(e.jsx)(n.b,{"data-inspector-line":"82","data-inspector-column":"50","data-inspector-relative-path":"src\\pages\\User\\login\\index.tsx"})}),Object(e.jsxs)("div",{"data-inspector-line":"83","data-inspector-column":"6","data-inspector-relative-path":"src\\pages\\User\\login\\index.tsx",className:s.a.content,children:[Object(e.jsxs)("div",{"data-inspector-line":"84","data-inspector-column":"8","data-inspector-relative-path":"src\\pages\\User\\login\\index.tsx",className:s.a.top,children:[Object(e.jsx)("div",{"data-inspector-line":"85","data-inspector-column":"10","data-inspector-relative-path":"src\\pages\\User\\login\\index.tsx",className:s.a.header,children:Object(e.jsxs)(X.a,{"data-inspector-line":"86","data-inspector-column":"12","data-inspector-relative-path":"src\\pages\\User\\login\\index.tsx",to:"/",children:[Object(e.jsx)("img",{"data-inspector-line":"87","data-inspector-column":"14","data-inspector-relative-path":"src\\pages\\User\\login\\index.tsx",alt:"logo",className:s.a.logo,src:"/logo.svg"}),Object(e.jsx)("span",{"data-inspector-line":"88","data-inspector-column":"14","data-inspector-relative-path":"src\\pages\\User\\login\\index.tsx",className:s.a.title,children:"Ant Design"})]})}),Object(e.jsx)("div",{"data-inspector-line":"91","data-inspector-column":"10","data-inspector-relative-path":"src\\pages\\User\\login\\index.tsx",className:s.a.desc,children:"Ant Design \u662F\u897F\u6E56\u533A\u6700\u5177\u5F71\u54CD\u529B\u7684 Web \u8BBE\u8BA1\u89C4\u8303"})]}),Object(e.jsxs)("div",{"data-inspector-line":"94","data-inspector-column":"8","data-inspector-relative-path":"src\\pages\\User\\login\\index.tsx",className:s.a.main,children:[Object(e.jsxs)(W.a,{"data-inspector-line":"95","data-inspector-column":"10","data-inspector-relative-path":"src\\pages\\User\\login\\index.tsx",initialValues:{autoLogin:!0},submitter:{searchConfig:{submitText:l.formatMessage({id:"pages.login.submit",defaultMessage:"\u767B\u5F55"})},render:function(r,i){return i.pop()},submitButtonProps:{loading:f,size:"large",style:{width:"100%"}}},onFinish:function(){var d=Object(h.a)(o.a.mark(function r(i){return o.a.wrap(function(x){for(;;)switch(x.prev=x.next){case 0:ce(i);case 1:case"end":return x.stop()}},r)}));return function(r){return d.apply(this,arguments)}}(),children:[Object(e.jsxs)(U.a,{"data-inspector-line":"119","data-inspector-column":"12","data-inspector-relative-path":"src\\pages\\User\\login\\index.tsx",activeKey:b,onChange:ne,children:[Object(e.jsx)(U.a.TabPane,{"data-inspector-line":"120","data-inspector-column":"14","data-inspector-relative-path":"src\\pages\\User\\login\\index.tsx",tab:l.formatMessage({id:"pages.login.accountLogin.tab",defaultMessage:"\u8D26\u6237\u5BC6\u7801\u767B\u5F55"})},"account"),Object(e.jsx)(U.a.TabPane,{"data-inspector-line":"127","data-inspector-column":"14","data-inspector-relative-path":"src\\pages\\User\\login\\index.tsx",tab:l.formatMessage({id:"pages.login.phoneLogin.tab",defaultMessage:"\u624B\u673A\u53F7\u767B\u5F55"})},"mobile")]}),E==="error"&&z==="account"&&Object(e.jsx)(T,{"data-inspector-line":"137","data-inspector-column":"14","data-inspector-relative-path":"src\\pages\\User\\login\\index.tsx",content:l.formatMessage({id:"pages.login.accountLogin.errorMessage",defaultMessage:"\u8D26\u6237\u6216\u5BC6\u7801\u9519\u8BEF\uFF08admin/ant.design)"})}),b==="account"&&Object(e.jsxs)(e.Fragment,{children:[Object(e.jsx)(B.a,{"data-inspector-line":"146","data-inspector-column":"16","data-inspector-relative-path":"src\\pages\\User\\login\\index.tsx",name:"username",fieldProps:{size:"large",prefix:Object(e.jsx)(J.a,{"data-inspector-line":"150","data-inspector-column":"28","data-inspector-relative-path":"src\\pages\\User\\login\\index.tsx",className:s.a.prefixIcon})},placeholder:l.formatMessage({id:"pages.login.username.placeholder",defaultMessage:"\u7528\u6237\u540D: admin or user"}),rules:[{required:!0,message:Object(e.jsx)(n.a,{"data-inspector-line":"160","data-inspector-column":"24","data-inspector-relative-path":"src\\pages\\User\\login\\index.tsx",id:"pages.login.username.required",defaultMessage:"\u8BF7\u8F93\u5165\u7528\u6237\u540D!"})}]}),Object(e.jsx)(B.a.Password,{"data-inspector-line":"168","data-inspector-column":"16","data-inspector-relative-path":"src\\pages\\User\\login\\index.tsx",name:"password",fieldProps:{size:"large",prefix:Object(e.jsx)(N.a,{"data-inspector-line":"172","data-inspector-column":"28","data-inspector-relative-path":"src\\pages\\User\\login\\index.tsx",className:s.a.prefixIcon})},placeholder:l.formatMessage({id:"pages.login.password.placeholder",defaultMessage:"\u5BC6\u7801: ant.design"}),rules:[{required:!0,message:Object(e.jsx)(n.a,{"data-inspector-line":"182","data-inspector-column":"24","data-inspector-relative-path":"src\\pages\\User\\login\\index.tsx",id:"pages.login.password.required",defaultMessage:"\u8BF7\u8F93\u5165\u5BC6\u7801\uFF01"})}]})]}),E==="error"&&z==="mobile"&&Object(e.jsx)(T,{"data-inspector-line":"193","data-inspector-column":"61","data-inspector-relative-path":"src\\pages\\User\\login\\index.tsx",content:"\u9A8C\u8BC1\u7801\u9519\u8BEF"}),b==="mobile"&&Object(e.jsxs)(e.Fragment,{children:[Object(e.jsx)(B.a,{"data-inspector-line":"196","data-inspector-column":"16","data-inspector-relative-path":"src\\pages\\User\\login\\index.tsx",fieldProps:{size:"large",prefix:Object(e.jsx)(G.a,{"data-inspector-line":"199","data-inspector-column":"28","data-inspector-relative-path":"src\\pages\\User\\login\\index.tsx",className:s.a.prefixIcon})},name:"mobile",placeholder:l.formatMessage({id:"pages.login.phoneNumber.placeholder",defaultMessage:"\u624B\u673A\u53F7"}),rules:[{required:!0,message:Object(e.jsx)(n.a,{"data-inspector-line":"210","data-inspector-column":"24","data-inspector-relative-path":"src\\pages\\User\\login\\index.tsx",id:"pages.login.phoneNumber.required",defaultMessage:"\u8BF7\u8F93\u5165\u624B\u673A\u53F7\uFF01"})},{pattern:/^1\d{10}$/,message:Object(e.jsx)(n.a,{"data-inspector-line":"219","data-inspector-column":"24","data-inspector-relative-path":"src\\pages\\User\\login\\index.tsx",id:"pages.login.phoneNumber.invalid",defaultMessage:"\u624B\u673A\u53F7\u683C\u5F0F\u9519\u8BEF\uFF01"})}]}),Object(e.jsx)(Y.a,{"data-inspector-line":"227","data-inspector-column":"16","data-inspector-relative-path":"src\\pages\\User\\login\\index.tsx",fieldProps:{size:"large",prefix:Object(e.jsx)(N.a,{"data-inspector-line":"230","data-inspector-column":"28","data-inspector-relative-path":"src\\pages\\User\\login\\index.tsx",className:s.a.prefixIcon})},captchaProps:{size:"large"},placeholder:l.formatMessage({id:"pages.login.captcha.placeholder",defaultMessage:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801"}),captchaTextRender:function(r,i){return r?"".concat(i," ").concat(l.formatMessage({id:"pages.getCaptchaSecondText",defaultMessage:"\u83B7\u53D6\u9A8C\u8BC1\u7801"})):l.formatMessage({id:"pages.login.phoneLogin.getVerificationCode",defaultMessage:"\u83B7\u53D6\u9A8C\u8BC1\u7801"})},name:"captcha",rules:[{required:!0,message:Object(e.jsx)(n.a,{"data-inspector-line":"256","data-inspector-column":"24","data-inspector-relative-path":"src\\pages\\User\\login\\index.tsx",id:"pages.login.captcha.required",defaultMessage:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801\uFF01"})}],onGetCaptcha:function(){var d=Object(h.a)(o.a.mark(function r(i){var c;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k({phone:i});case 2:if(c=t.sent,c!==!1){t.next=5;break}return t.abrupt("return");case 5:F.default.success("\u83B7\u53D6\u9A8C\u8BC1\u7801\u6210\u529F\uFF01\u9A8C\u8BC1\u7801\u4E3A\uFF1A1234");case 6:case"end":return t.stop()}},r)}));return function(r){return d.apply(this,arguments)}}()})]}),Object(e.jsxs)("div",{"data-inspector-line":"275","data-inspector-column":"12","data-inspector-relative-path":"src\\pages\\User\\login\\index.tsx",style:{marginBottom:24},children:[Object(e.jsx)(Q.a,{"data-inspector-line":"280","data-inspector-column":"14","data-inspector-relative-path":"src\\pages\\User\\login\\index.tsx",noStyle:!0,name:"autoLogin",children:Object(e.jsx)(n.a,{"data-inspector-line":"281","data-inspector-column":"16","data-inspector-relative-path":"src\\pages\\User\\login\\index.tsx",id:"pages.login.rememberMe",defaultMessage:"\u81EA\u52A8\u767B\u5F55"})}),Object(e.jsx)("a",{"data-inspector-line":"283","data-inspector-column":"14","data-inspector-relative-path":"src\\pages\\User\\login\\index.tsx",style:{float:"right"},children:Object(e.jsx)(n.a,{"data-inspector-line":"288","data-inspector-column":"16","data-inspector-relative-path":"src\\pages\\User\\login\\index.tsx",id:"pages.login.forgotPassword",defaultMessage:"\u5FD8\u8BB0\u5BC6\u7801"})})]})]}),Object(e.jsxs)(D.b,{"data-inspector-line":"292","data-inspector-column":"10","data-inspector-relative-path":"src\\pages\\User\\login\\index.tsx",className:s.a.other,children:[Object(e.jsx)(n.a,{"data-inspector-line":"293","data-inspector-column":"12","data-inspector-relative-path":"src\\pages\\User\\login\\index.tsx",id:"pages.login.loginWith",defaultMessage:"\u5176\u4ED6\u767B\u5F55\u65B9\u5F0F"}),Object(e.jsx)(R.a,{"data-inspector-line":"294","data-inspector-column":"12","data-inspector-relative-path":"src\\pages\\User\\login\\index.tsx",className:s.a.icon}),Object(e.jsx)(V.a,{"data-inspector-line":"295","data-inspector-column":"12","data-inspector-relative-path":"src\\pages\\User\\login\\index.tsx",className:s.a.icon}),Object(e.jsx)(K.a,{"data-inspector-line":"296","data-inspector-column":"12","data-inspector-relative-path":"src\\pages\\User\\login\\index.tsx",className:s.a.icon})]})]})]}),Object(e.jsx)(w.a,{"data-inspector-line":"300","data-inspector-column":"6","data-inspector-relative-path":"src\\pages\\User\\login\\index.tsx"})]})},ue=O.default=ee}}]);
